<div class="container">
  <mat-card>
    <mat-stepper linear>
      <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup" (ngSubmit)="onSubmit()">
          <ng-template matStepLabel>Bestelldetails</ng-template>
          <mat-form-field appearance="fill">
            <mat-label>Name des Bestellers</mat-label>
            <input matInput formControlName="name" required>
            <mat-error *ngIf="firstFormGroup.controls['name'].hasError('required')">
              Name des Bestellers ist erforderlich
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Bestellung</mat-label>
            <textarea matInput formControlName="order" required maxlength="100"></textarea>
            <mat-error *ngIf="firstFormGroup.controls['order'].hasError('required')">
              Bestellung ist erforderlich
            </mat-error>
            <mat-hint align="end">Maximal 100 Zeichen</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Restaurant wählen</mat-label>
            <mat-select formControlName="restaurant" required>
              <mat-option *ngFor="let restaurant of restaurants" [value]="restaurant">
                {{restaurant}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="firstFormGroup.controls['restaurant'].hasError('required')">
              Restaurant ist erforderlich
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Preis</mat-label>
            <input matInput type="number" formControlName="price">
          </mat-form-field>
          <div>Begleiten Sie den Einkäufer?</div>
          <mat-radio-group formControlName="paid">
            <mat-radio-button value="yes">Ja</mat-radio-button>
            <mat-radio-button value="no">Nein</mat-radio-button>
          </mat-radio-group>
          <div>Haben Sie die Bestellung bezahlt?</div>
          <mat-radio-group formControlName="accompany">
            <mat-radio-button value="yes">Ja</mat-radio-button>
            <mat-radio-button value="no">Nein</mat-radio-button>
          </mat-radio-group>
          
          <div>
            <button mat-button matStepperNext>Weiter</button>
          </div>
        </form>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Überprüfung</ng-template>
        <p>Bestellübersicht:</p>
        <p>Name: {{ firstFormGroup.controls['name'].value }}</p>
        <p>Bestellung: {{ firstFormGroup.controls['order'].value }}</p>
        <p>Restaurant: {{ firstFormGroup.controls['restaurant'].value }}</p>
        <p>Preis: {{ firstFormGroup.controls['price'].value }}</p>
        <p>Bezahlt: {{ firstFormGroup.controls['paid'].value }}</p>
        <p>Begleiten: {{ firstFormGroup.controls['accompany'].value }}</p>
        <div>
          <button mat-button matStepperPrevious>Zurück</button>
          <button mat-button (click)="submitOrder()">Bestätigen</button>
        </div>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Bestellung abgeschlossen</ng-template>
        <p>Ihre Bestellung wurde erfolgreich aufgegeben.</p>
        <button mat-button routerLink="/">Zur Startseite</button>
      </mat-step>
    </mat-stepper>
  </mat-card>
</div>
